import{u as y,f as b,d as C,h as P,r as h,j as s,k as S}from"./index-BIJJ6zyg.js";import{s as e}from"./shared.module-DtX0B0CA.js";const k=[{code:"es",flag:"ðŸ‡ªðŸ‡¸",name:"EspaÃ±ol"},{code:"en",flag:"ðŸ‡¬ðŸ‡§",name:"English"}];function A(){const{t,i18n:c}=y(),g=b(),{theme:m,setTheme:p,currency:x,setCurrency:u,setLanguage:f}=C(),{isOfflineMode:i,logout:j,user:o}=P(),[n,d]=h.useState(""),[l,r]=h.useState("");function v(a){f(a),c.changeLanguage(a)}async function N(){if(n.length<6){r(t("profile.passwordTooShort"));return}const a=await S(n);a.error?r(a.error):(r(t("profile.passwordChanged")),d(""))}async function w(){await j(),g("/login")}return s.jsxs("div",{className:e.page,children:[s.jsx("h2",{children:t("profile.title")}),!i&&o&&s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.account")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("span",{className:e["settings-label"],children:t("auth.email")}),s.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--color-text-muted)"},children:o.email})]})]}),s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.theme")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("span",{className:e["settings-label"],children:t("profile.theme")}),s.jsx("div",{className:e["settings-value"],children:["light","dark","system"].map(a=>s.jsxs("button",{className:`${e["toggle-btn"]} ${m===a?e.active:""}`,onClick:()=>p(a),children:[a==="light"?"â˜€ï¸":a==="dark"?"ðŸŒ™":"ðŸ’»"," ",t(`profile.theme${a.charAt(0).toUpperCase()+a.slice(1)}`)]},a))})]})]}),s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.language")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("span",{className:e["settings-label"],children:t("profile.language")}),s.jsx("div",{className:e["settings-value"],style:{flexWrap:"wrap"},children:k.map(a=>s.jsxs("button",{className:`${e["toggle-btn"]} ${c.language===a.code?e.active:""}`,onClick:()=>v(a.code),children:[a.flag," ",a.name]},a.code))})]})]}),s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.currency")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("span",{className:e["settings-label"],children:t("profile.currency")}),s.jsx("div",{className:e["settings-value"],children:["EUR","USD","GBP","MXN","BRL","ARS","COP","JPY"].map(a=>s.jsx("button",{className:`${e["toggle-btn"]} ${x===a?e.active:""}`,onClick:()=>u(a),children:a},a))})]})]}),!i&&s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.changePassword")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("input",{type:"password",value:n,onChange:a=>d(a.target.value),placeholder:t("profile.newPassword"),style:{flex:1,maxWidth:"240px"}}),s.jsx("button",{className:e["btn-primary"],onClick:N,style:{padding:"var(--space-xs) var(--space-md)",fontSize:"var(--font-size-xs)"},children:t("profile.updatePassword")})]}),l&&s.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:l.includes("error")?"#ef4444":"#22c55e",marginTop:"var(--space-xs)"},children:l})]}),s.jsxs("div",{className:e["settings-section"],children:[s.jsx("h3",{className:e["settings-title"],children:t("profile.about")}),s.jsxs("div",{className:e["settings-row"],children:[s.jsx("span",{className:e["settings-label"],children:t("profile.version")}),s.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--color-text-muted)"},children:"2.0.0"})]})]}),!i&&s.jsx("div",{className:e["settings-section"],children:s.jsxs("button",{className:e["btn-primary"],onClick:w,style:{background:"#ef4444",width:"100%",padding:"var(--space-sm)"},children:["ðŸšª ",t("profile.logout")]})})]})}export{A as default};
